[tool.poe]
include = [
  ".codeguide/poe/formatters.toml",
  ".codeguide/poe/ci-checks.toml",
  ".codeguide/poe/dev-setup.toml",
  ".codeguide/poe/docs.toml",
]

[tool.poe.tasks]
ci-checks.help = "run all checks for CI"
ci-checks.sequence = [
  "check-dprint",
  "check-python",
  "check-basedpyright",
  "check-complexity",
  "check-coverage",
]

# doc tasks
# Development server for docs
dev-docs.help = "Start MkDocs development server"
dev-docs.cmd = "zensical serve --dev-addr=127.0.0.1:8000"

# Build documentation
build-docs.help = "Build static documentation site"
build-docs.cmd = "zensical build --clean"

# Clean docs build
clean-docs.help = "Clean documentation build artifacts"
clean-docs.cmd = "rm -rf site/"
